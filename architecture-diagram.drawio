<mxfile host="app.diagrams.net" agent="5.0" version="24.7.17">
  <diagram name="CDK Architecture Judge" id="architecture-judge">
    <mxGraphModel dx="1422" dy="754" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="AWS CDK アーキテクチャ判定アプリ" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#FF6B35;" vertex="1" parent="1">
          <mxGeometry x="627" y="20" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- User -->
        <mxCell id="user" value="👨‍💻 User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#FF6B35;strokeColor=#FFFFFF;fontSize=14;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="80" y="200" width="60" height="120" as="geometry" />
        </mxCell>
        
        <!-- Frontend Container -->
        <mxCell id="frontend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="150" width="200" height="220" as="geometry" />
        </mxCell>
        
        <mxCell id="frontend-title" value="Frontend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="250" y="160" width="100" height="30" as="geometry" />
        </mxCell>
        
        <!-- React App -->
        <mxCell id="react-app" value="⚛️ React App" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1976D2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="200" width="160" height="40" as="geometry" />
        </mxCell>
        
        <!-- Upload Component -->
        <mxCell id="upload-component" value="📤 Image Upload" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="220" y="250" width="160" height="30" as="geometry" />
        </mxCell>
        
        <!-- Results Component -->
        <mxCell id="results-component" value="📊 Results Display" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="220" y="290" width="160" height="30" as="geometry" />
        </mxCell>
        
        <!-- Ranking Component -->
        <mxCell id="ranking-component" value="🏆 Rankings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="220" y="330" width="160" height="30" as="geometry" />
        </mxCell>
        
        <!-- CloudFront -->
        <mxCell id="cloudfront" value="☁️ CloudFront&#xa;(CDN)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#FFFFFF;fontSize=12;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="480" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- S3 Website -->
        <mxCell id="s3-website" value="🪣 S3 Bucket&#xa;(Static Website)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#FFFFFF;fontSize=11;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="480" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- API Gateway -->
        <mxCell id="api-gateway" value="🚀 API Gateway&#xa;(REST API)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#FFFFFF;fontSize=12;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="480" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Lambda Functions Container -->
        <mxCell id="lambda-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FF8F00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="680" y="280" width="280" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="lambda-title" value="Lambda Functions" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#FF8F00;" vertex="1" parent="1">
          <mxGeometry x="760" y="290" width="120" height="30" as="geometry" />
        </mxCell>
        
        <!-- Upload Lambda -->
        <mxCell id="upload-lambda" value="📤 Upload Function&#xa;(Presigned URL)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="330" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Analysis Lambda -->
        <mxCell id="analysis-lambda" value="🤖 Analysis Function&#xa;(AI Processing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF5722;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="700" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Results Lambda -->
        <mxCell id="results-lambda" value="📊 Results Function&#xa;(Data Retrieval)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="700" y="430" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- AI Services Lambda -->
        <mxCell id="ai-services-lambda" value="🧠 AI Services&#xa;(Textract, Rekognition)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#795548;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="830" y="380" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- S3 Images Bucket -->
        <mxCell id="s3-images" value="🖼️ S3 Bucket&#xa;(Architecture Images)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#FFFFFF;fontSize=12;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1020" y="200" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- DynamoDB Container -->
        <mxCell id="dynamodb-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1020" y="300" width="140" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="dynamodb-title" value="DynamoDB" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#3F51B5;" vertex="1" parent="1">
          <mxGeometry x="1060" y="310" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Analysis Results Table -->
        <mxCell id="analysis-table" value="📋 Analysis Results" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3F51B5;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1030" y="340" width="120" height="35" as="geometry" />
        </mxCell>
        
        <!-- Rankings Table -->
        <mxCell id="rankings-table" value="🏆 Rankings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#673AB7;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1030" y="385" width="120" height="35" as="geometry" />
        </mxCell>
        
        <!-- AI Services Container -->
        <mxCell id="ai-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF6D00;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1020" y="480" width="280" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="ai-title" value="AWS AI/ML Services" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#FF6D00;" vertex="1" parent="1">
          <mxGeometry x="1110" y="490" width="100" height="30" as="geometry" />
        </mxCell>
        
        <!-- Textract -->
        <mxCell id="textract" value="📄 Textract" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6D00;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1040" y="530" width="70" height="30" as="geometry" />
        </mxCell>
        
        <!-- Rekognition -->
        <mxCell id="rekognition" value="👁️ Rekognition" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6D00;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1120" y="530" width="80" height="30" as="geometry" />
        </mxCell>
        
        <!-- Bedrock -->
        <mxCell id="bedrock" value="🪨 Bedrock" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6D00;strokeColor=#FFFFFF;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1210" y="530" width="70" height="30" as="geometry" />
        </mxCell>
        
        <!-- Arrows and Flow -->
        
        <!-- User to Frontend -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF6B35;strokeWidth=3;" edge="1" parent="1" source="user" target="react-app">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="260" as="sourcePoint" />
            <mxPoint x="210" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Frontend to CloudFront -->
        <mxCell id="arrow2" value="HTTPS" style="endArrow=classic;html=1;rounded=0;strokeColor=#1976D2;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="react-app" target="cloudfront">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="220" as="sourcePoint" />
            <mxPoint x="480" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- CloudFront to S3 Website -->
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF9800;strokeWidth=2;" edge="1" parent="1" source="cloudfront" target="s3-website">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="210" as="sourcePoint" />
            <mxPoint x="540" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Frontend to API Gateway -->
        <mxCell id="arrow4" value="API Calls" style="endArrow=classic;html=1;rounded=0;strokeColor=#2196F3;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="upload-component" target="api-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="310" as="sourcePoint" />
            <mxPoint x="480" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- API Gateway to Upload Lambda -->
        <mxCell id="arrow5" value="/upload" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFEB3B;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="api-gateway" target="upload-lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="350" as="sourcePoint" />
            <mxPoint x="700" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- API Gateway to Results Lambda -->
        <mxCell id="arrow6" value="/results&#xa;/rankings" style="endArrow=classic;html=1;rounded=0;strokeColor=#9C27B0;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="api-gateway" target="results-lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="390" as="sourcePoint" />
            <mxPoint x="700" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Upload Lambda to S3 Images -->
        <mxCell id="arrow7" value="Presigned URL" style="endArrow=classic;html=1;rounded=0;strokeColor=#4CAF50;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="upload-lambda" target="s3-images">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="340" as="sourcePoint" />
            <mxPoint x="1020" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S3 Images to Analysis Lambda -->
        <mxCell id="arrow8" value="S3 Event" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF5722;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="s3-images" target="analysis-lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="260" as="sourcePoint" />
            <mxPoint x="820" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Analysis Lambda to AI Services -->
        <mxCell id="arrow9" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#795548;strokeWidth=2;" edge="1" parent="1" source="analysis-lambda" target="ai-services-lambda">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="400" as="sourcePoint" />
            <mxPoint x="830" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- AI Services Lambda to AWS AI Services -->
        <mxCell id="arrow10" value="AI Analysis" style="endArrow=classic;html=1;rounded=0;strokeColor=#FF6D00;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="ai-services-lambda" target="textract">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="890" y="420" as="sourcePoint" />
            <mxPoint x="1075" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Analysis Lambda to DynamoDB -->
        <mxCell id="arrow11" value="Store Results" style="endArrow=classic;html=1;rounded=0;strokeColor=#3F51B5;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="analysis-lambda" target="analysis-table">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="390" as="sourcePoint" />
            <mxPoint x="1030" y="357" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Results Lambda to DynamoDB -->
        <mxCell id="arrow12" value="Query Data" style="endArrow=classic;html=1;rounded=0;strokeColor=#673AB7;strokeWidth=2;labelBackgroundColor=#FFFFFF;" edge="1" parent="1" source="results-lambda" target="rankings-table">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="450" as="sourcePoint" />
            <mxPoint x="1030" y="402" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Data Flow Labels -->
        <mxCell id="flow1" value="1. アーキテクチャ図アップロード" style="text;html=1;strokeColor=none;fillColor=#FFEB3B;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="400" width="160" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow2" value="2. AI解析実行" style="text;html=1;strokeColor=none;fillColor=#FF5722;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="440" width="160" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow3" value="3. いけてる度判定" style="text;html=1;strokeColor=none;fillColor=#795548;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="480" width="160" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow4" value="4. 結果表示・ランキング" style="text;html=1;strokeColor=none;fillColor=#9C27B0;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="520" width="160" height="30" as="geometry" />
        </mxCell>
        
        <!-- Score Display -->
        <mxCell id="score-display" value="🏆 いけてる度: 87点 / 100点&#xa;評価: かなりいけてる！🔥" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFC107;strokeColor=#FF8F00;fontSize=12;fontStyle=1;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1320" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Architecture Judge Logo -->
        <mxCell id="logo" value="🏗️" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=48;" vertex="1" parent="1">
          <mxGeometry x="1400" y="20" width="80" height="80" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>